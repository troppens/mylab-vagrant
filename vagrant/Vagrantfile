# List of VMs to be managed by Vagrant
mynodes = [ "node1", "node2" ]

###############################################################################
#
# Do not make any changes below this line
#
###############################################################################

#
# Configure all VMs
#
Vagrant.configure("2") do |config|
  config.vm.box = "centos/8"
  config.vm.box_version = "1905.1"

  # VirtualBox settings for all VMs
  config.vm.provider :virtualbox do |vb|
    # Add all cluster nodes to the same VirtualBox group
    vb.customize ["modifyvm", :id, "--groups", "/mylab"]
  end  # Loop |vb|

  # Iterate over all nodes in mynodes
  mynodes.each do |node|
    # Define VM
    config.vm.define node do |current_node|
      # Set hostname in guest OS
      current_node.vm.hostname = node
    end  # Loop |current_node|
  end  # Loop |node|

end  # Loop |config|
